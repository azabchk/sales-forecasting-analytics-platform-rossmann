# Концепция ВКР

## Тема

«Разработка модели прогнозирования продаж для аналитической платформы интернет-магазина»

## 1. Актуальность

Современные e-commerce и розничные компании работают в условиях высокой динамики спроса, сезонных колебаний и регулярных промо-кампаний. Ошибки в оценке будущего объема продаж приводят к:
- избыточным запасам и росту затрат на хранение;
- дефициту товаров и потере выручки;
- неэффективному планированию маркетинговых активностей;
- снижению качества управленческих решений.

Для решения данной проблемы требуется единая аналитическая платформа, которая объединяет:
1. Хранение исторических данных в структурированном DWH.
2. Набор оперативных KPI для менеджмента.
3. Модель прогнозирования продаж на уровне ежедневной гранулярности.
4. Удобный интерфейс визуализации и принятия решений.

Именно этот комплексный подход реализуется в данном проекте ВКР.

## 2. Объект и предмет исследования

Объект исследования:
- процесс аналитики и прогнозирования продаж в розничной сети (на примере Rossmann).

Предмет исследования:
- методы построения ETL-конвейера, хранилища данных и ML-модели ежедневного прогнозирования продаж по магазинам.

## 3. Цель и задачи работы

### Цель

Разработать end-to-end решение, обеспечивающее путь от сырых CSV-данных до интерактивной аналитической платформы с API и прогнозной моделью.

### Задачи

1. Спроектировать DWH в формате Star Schema для ежедневных продаж.
2. Разработать ETL-процесс загрузки и очистки данных из Rossmann CSV.
3. Реализовать KPI-представления для аналитических сценариев.
4. Разработать признаки и обучить модели прогноза продаж.
5. Сравнить baseline и advanced модели по MAE и RMSE.
6. Реализовать REST API на FastAPI для KPI, таймсерий и прогноза.
7. Разработать веб-интерфейс на React + TypeScript.
8. Подготовить документацию проекта и эксплуатационные инструкции.

## 4. Исходные данные

Используется открытый датасет Kaggle Rossmann Store Sales:
- `train.csv` — фактические ежедневные продажи и вспомогательные признаки;
- `store.csv` — метаинформация по магазинам.

Ключевые поля:
- Идентификатор магазина (`Store`)
- Дата (`Date`)
- Продажи (`Sales`)
- Клиенты (`Customers`)
- Промо-флаг (`Promo`)
- Праздничные признаки (`StateHoliday`, `SchoolHoliday`)
- Характеристики магазина (`StoreType`, `Assortment`, `CompetitionDistance`, и др.)

## 5. Научно-практическая новизна

Новизна проекта заключается в комплексной интеграции всех уровней аналитической системы:
- ETL + DWH + KPI + ML + API + Dashboard;
- ежедневная гранулярность прогноза по каждому магазину;
- воспроизводимый pipeline для локального запуска и масштабирования.

Практическая значимость:
- возможность быстрой адаптации решения под реальные данные компании;
- сокращение времени на получение аналитики;
- поддержка решений по промо и операционному планированию.

## 6. Методологическая основа

В проекте применяются следующие подходы:

1. **DWH-моделирование**:
   - Star Schema (Kimball-подход).
2. **Инженерия данных**:
   - идемпотентный ETL `truncate + reload`;
   - контроль качества данных (missing, duplicates, FK, coverage).
3. **Машинное обучение**:
   - временные признаки (lags, rolling windows, calendar features);
   - time-based split для корректной валидации временного ряда;
   - сравнение моделей Ridge и CatBoost.
4. **Сервисная архитектура**:
   - REST API через FastAPI;
   - веб-интерфейс через React + TypeScript.

## 7. Архитектурная концепция

Система делится на 4 уровня:

1. Уровень данных:
   - CSV-файлы Rossmann в каталоге `data/`.
2. Уровень хранения:
   - PostgreSQL со схемой измерений и фактов.
3. Уровень аналитики и ML:
   - SQL KPI views;
   - обучение/оценка/инференс модели.
4. Уровень представления:
   - FastAPI backend;
   - React dashboard.

Поток данных:
`CSV -> ETL -> DWH -> Views -> ML -> API -> UI`.

## 8. Распределение ролей в команде (2 человека)

### Разработчик A (ML/Data)

- Проектирование DWH и SQL-слоя.
- Разработка ETL и data quality.
- Разработка ML-пайплайна (train/evaluate/predict).
- Реализация backend логики прогноза и KPI-сервисов.

### Разработчик B (Web)

- Проектирование и разработка React-приложения.
- Реализация страниц и UI-компонентов.
- Интеграция с backend API.
- UX-полировка и клиентская обработка ошибок.

## 9. Ожидаемые результаты

1. Рабочий GitHub-репозиторий с воспроизводимой инфраструктурой.
2. PostgreSQL DWH с фактом и измерениями.
3. ETL-скрипты и контроль качества данных.
4. Обученная модель прогноза продаж + model card.
5. FastAPI сервис с набором endpoint-ов.
6. React dashboard для визуального анализа и прогноза.
7. Полный комплект технической и академической документации.

## 10. Ограничения и риски

1. Прогноз на дальний горизонт чувствителен к накоплению ошибки.
2. Отсутствие будущего календаря промо требует сценарных предположений.
3. Качество модели зависит от полноты и чистоты исходных данных.
4. Для production-среды требуются:
   - мониторинг drift,
   - периодическое переобучение,
   - контроль SLA API.

## 11. Перспективы развития

1. Добавление внешних факторов (погода, макроэкономика, локальные события).
2. Внедрение MLOps-практик: model registry, scheduled retraining, мониторинг.
3. Расширение API аналитикой по категориям товаров.
4. Реализация ролевой модели доступа и аудита действий пользователей.

## 12. Вывод

Разработанная концепция ВКР формирует целостную основу для внедрения прогнозной аналитики продаж в прикладной информационной системе. Проект сочетает инженерную воспроизводимость, методическую корректность работы с временными данными и практическую полезность для принятия управленческих решений.
